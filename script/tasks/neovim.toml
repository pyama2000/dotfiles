[tasks.setup_neovim]
category = "Neovim"
description = "Setup Neovim"
run_task = { name = [
  "install_neovim",
  "link_neovim",
] }

[tasks.update_neovim]
description = "Update Neovim"
run_task = { name = ["update_neovim_plugins"]}

[tasks.install_neovim.mac]
private = true
script = [
'''
#!/usr/bin/env bash

brew install neovim
'''
]

[tasks.install_neovim.linux]
private = true
script = [
'''
#!/usr/bin/env bash

sudo add-apt-repository -y ppa:neovim-ppa/stable
sudo apt update -y
sudo apt install -y neovim
'''
]

[tasks.update_neovim_plugins]
private = true
description = "Update Neovim plugins"
script = [
'''
#!/usr/bin/env bash

nvim --headless "+Lazy! update" +qa
'''
]

[tasks.link_neovim]
private = true
script = [
'''
#!/usr/bin/env bash

ln -snfv ~/dotfiles/nvim ~/.config
'''
]
